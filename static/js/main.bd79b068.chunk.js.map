{"version":3,"sources":["ui/Month/Month.module.css","ui/App.module.css","ui/TitleColumn/TitleColumn.module.css","bll/calendarReducers.ts","ui/Day/Days.tsx","ui/TitleColumn/TitleColumn.tsx","ui/Caption/Caption.tsx","ui/Month/Month.tsx","common/utils/getDate.ts","common/utils/uppercaseFirstLetter.ts","ui/App.tsx","bll/redux-store.ts","index.tsx","ui/Caption/Caption.module.css","ui/Day/Day.module.css"],"names":["module","exports","SWITCH_MONTH","SET_SELECT_DAYS","initialState","currentDay","dayjs","day","currentMonth","month","currentYear","year","selectedDays","Days","ceil","setSelectDate","currentDayString","date","format","onClick","isActive","exSelectedDay","some","selected","action","onSelectDay","className","s","table_ceil","active","isCurrentMonth","table_ceil_month","isCurrentDay","table_ceil_current_day","isSelected","selectedDay","TitleColumn","title_column","map","w","i","toUpperCase","Caption","onSwitchMonth","caption_table","arrow_left","arrow","caption_table_month","arrow_right","locale","extend","isToday","arraySupport","updateLocale","localeData","weekday","Month","dispatch","useState","selectDate","useEffect","localStorage","setItem","removeItem","data","Object","keys","type","setSelectDaysAC","table","rows","startCalendarDay","startOf","j","push","isSame","isNextMonth","isBefore","add","str","monthName","slice","direction","onSwitchMonthAC","table_rows_container","t","table_rows","App","useSelector","state","calendar","useDispatch","app","reducer","combineReducers","currentDate","switchedMonth","subtract","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,qBAAuB,oCAAoC,WAAa,4B,mBCAvHD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,WAAW,sBAAsB,gBAAgB,6B,mBCA1FD,EAAOC,QAAU,CAAC,aAAe,oC,iLCC3BC,EAAe,2BACfC,EAAkB,2BASXC,EAA6B,CACtCC,WAAYC,MAAQC,MACpBC,aAAcF,MAAQG,QACtBC,YAAaJ,MAAQK,OACrBC,aAAc,I,oHCLLC,EAAO,SAAC,GAAyE,IAAxEC,EAAuE,EAAvEA,KAAMC,EAAiE,EAAjEA,cAAeH,EAAkD,EAAlDA,aAQjCI,EAA2BF,EAAKG,MAAQH,EAAKG,KAAKC,OAAO,cAW/D,OACI,oBAAIC,QAAS,kBAAOL,EAAKM,UAVT,SAACH,GACjB,IAAMI,EAAyBT,EAAaU,MAAK,SAAAC,GAAQ,OAAIA,IAAaN,KAEtEF,EADAM,EACc,CAACG,OAAQ,SAAUP,KAAMA,GAEzB,CAACO,OAAQ,MAAOP,KAAMA,IAKHQ,CAAYT,IAC7CU,UAAS,UAAKC,IAAEC,WAAP,YAAqBd,EAAKM,UAAYO,IAAEE,OAAxC,aAAmDf,EAAKgB,gBAAkBH,IAAEI,iBAA5E,YAAgGjB,EAAKkB,cAAgBL,IAAEM,uBAAvH,YAAiJnB,EAAKoB,YAAcP,IAAEQ,aADnL,SAEKrB,EAAKG,KAAKA,U,iBC9BVmB,EAAc,WAEvB,OACI,gCACI,oBAAIV,UAAWC,IAAEU,aAAjB,SAHM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAK7BC,KAAI,SAACC,EAAGC,GAAJ,OAAU,6BAAaD,EAAEE,eAAND,W,gBCApCE,EAAU,SAAC,GAA6D,IAA5DjC,EAA2D,EAA3DA,MAAOE,EAAoD,EAApDA,KAAMgC,EAA8C,EAA9CA,cAClC,OACI,0BAASjB,UAAWC,IAAEiB,cAAtB,UACI,sBAAMlB,UAAS,UAAKC,IAAEkB,WAAP,YAAqBlB,IAAEmB,OAAS3B,QAAS,kBAAMwB,EAAc,SAA5E,eACA,qBAAKjB,UAAWC,IAAEoB,oBAAlB,SAAwCtC,EAAQ,IAAME,IACtD,sBAAMe,UAAS,UAAKC,IAAEqB,YAAP,YAAsBrB,IAAEmB,OAAS3B,QAAS,kBAAMwB,EAAc,SAA7E,mBCGZrC,IAAM2C,OAAO,MAEb3C,IAAM4C,OAAOC,KACb7C,IAAM4C,OAAOE,KACb9C,IAAM4C,OAAOG,KACb/C,IAAM4C,OAAOI,KACbhD,IAAM4C,OAAOK,KAEb,IAqBaC,EAAQ,SAAC,GAAoE,IAAnE7C,EAAkE,EAAlEA,KAAMF,EAA4D,EAA5DA,MAAOG,EAAqD,EAArDA,aAAc6C,EAAuC,EAAvCA,SACxCxC,EAAcX,MADiE,EAGjDoD,mBAA0D,CAC1FlC,OAAQ,GACRP,KAAM,KAL2E,mBAG9E0C,EAH8E,KAGlE5C,EAHkE,KAQrF6C,qBAAU,WACoB,QAAtBD,EAAWnC,QACXqC,aAAaC,QAAQH,EAAW1C,KAAM0C,EAAW1C,MAG3B,WAAtB0C,EAAWnC,QACXqC,aAAaE,WAAWJ,EAAW1C,MAEvCF,EAAc,CACVS,OAAQ,GACRP,KAAM,KAEV,IAAM+C,EClE8BC,OAAOC,KAAKL,cDmEhDG,GAAQP,EJbe,SAAC7C,GAAD,MAAkC,CAACuD,KAAMhE,EAAiBS,gBIahEwD,CAAgBJ,MAClC,CAACL,EAAW1C,KAAM0C,EAAWnC,SAYhC,IAVA,IAAM6C,EAA+B,GACjCC,EAAuB,GAEvBC,EAA0BtD,EACzBR,MAAMA,GACNE,KAAKA,GACL6D,QAAQ,SACRjB,QAAQ,GAGJf,EAAI,EAAGA,EAvDD,EAuDiBA,IAAK,CACjC8B,EAAO,GACP,IAAK,IAAIG,EAAI,EAAGA,EAxDL,EAwDqBA,IAC5BH,EAAKI,KAAK,CACNzD,KAAMsD,EACN9D,MAAO8D,EAAiB9D,QACxBuB,aAAcuC,EAAiBI,OAAO1D,EAAM,OAC5Ca,eAAgBrB,IAAU8D,EAAiB9D,QAC3CmE,YAAanE,EAAQ8D,EAAiB9D,QACtCyB,WAAYtB,EAAaU,MAAK,SAAAK,GAAC,OAAIA,IAAM4C,EAAiBrD,OAAO,iBACjEE,SAAUmD,EAAiBM,SAAS5D,EAAM,SAE9CsD,EAAmBA,EAAiBO,IAAI,EAAG,OAE/CT,EAAMK,KAAKJ,GAGf,IEjGiCS,EFiG3BC,GEjG2BD,EFiGc9D,EAAKR,MAAMA,GAAOS,OAAO,SE/FjE6D,EAAI,GAAGtC,cAAgBsC,EAAIE,MAAM,GADvBF,EFsGjB,OACI,wBAAOrD,UAAWC,IAAE0C,MAApB,UACI,cAAC,EAAD,CAAS1D,KAAMA,EAAMF,MAAOuE,EAAWrC,cANzB,SAACuC,GACnBzB,EJ/CuB,SAACyB,GAAD,MAAwB,CAACf,KAAMjE,EAAcgF,aI+C3DC,CAAgBD,OAMrB,cAAC,EAAD,IACA,uBAAOxD,UAAWC,IAAEyD,qBAApB,SAEQf,EAAM/B,KAAI,SAAC+C,EAAmB7C,GAApB,OACN,oBAAYd,UAAWC,IAAE2D,WAAzB,SAEQD,EAAE/C,KAAI,SAACxB,GAAD,OACF,cAAC,EAAD,CAAMF,aAAcA,EAAmDG,cAAeA,EAAeD,KAAMA,GAApEA,EAAKG,KAAKC,OAAO,mBAH3DsB,Y,OGxFlB+C,EAfH,WAER,IAAM9E,EAAQ+E,aAAkC,SAAAC,GAAK,OAAIA,EAAMC,SAASlF,gBAClEG,EAAO6E,aAAkC,SAAAC,GAAK,OAAIA,EAAMC,SAAShF,eACjEE,EAAe4E,aAAyC,SAAAC,GAAK,OAAIA,EAAMC,SAAS9E,gBAChF6C,EAAWkC,cAEjB,OACI,sBAAKjE,UAAWC,IAAEiE,IAAlB,UACI,wFACA,cAAC,EAAD,CAAOhF,aAAcA,EAAcD,KAAMA,EAAMF,MAAOA,EAAOgD,SAAUA,Q,QCd7EoC,EAAUC,YAAgB,CAC5BJ,SRmB2B,WAA6D,IAA5DD,EAA2D,uDAAnDrF,EAAcoB,EAAqC,uCACvF,OAAQA,EAAO2C,MAEX,KAAKjE,EACD,IAAM6F,EAAczF,MAAQG,MAAMgF,EAAMjF,cAAcG,KAAK8E,EAAM/E,aAC3DsF,EACmB,SAArBxE,EAAO0D,UACDa,EAAYE,SAAS,EAAG,SACxBF,EAAYjB,IAAI,EAAG,SAE7B,OAAO,2BACAW,GADP,IAEIjF,aAAcwF,EAAcvF,QAC5BC,YAAasF,EAAcrF,SAInC,KAAKR,EACD,OAAO,2BACAsF,GADP,IAEI7E,aAAa,YAAKY,EAAOZ,gBAGjC,QACI,OAAO6E,MQrCNS,EAAmBC,YAAYN,GCH5CO,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACI,cAAC,EAAD,QAGRK,SAASC,eAAe,U,kBCZ5BxG,EAAOC,QAAU,CAAC,cAAgB,+BAA+B,oBAAsB,qCAAqC,MAAQ,uBAAuB,WAAa,4BAA4B,YAAc,6BAA6B,aAAe,gC,kBCA9PD,EAAOC,QAAU,CAAC,WAAa,wBAAwB,iBAAmB,8BAA8B,uBAAyB,oCAAoC,YAAc,yBAAyB,OAAS,uB","file":"static/js/main.bd79b068.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Month_table__22P_f\",\"table_rows_container\":\"Month_table_rows_container__3i9GP\",\"table_rows\":\"Month_table_rows__1r1Ny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2CsLU\",\"App-logo\":\"App_App-logo__2Eox5\",\"App-logo-spin\":\"App_App-logo-spin__14T80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title_column\":\"TitleColumn_title_column__2LD-f\"};","import dayjs from \"dayjs\"\n\nconst SWITCH_MONTH = \"calendar/DIRECTION_MONTH\"\nconst SET_SELECT_DAYS = \"calendar/SET_SELECT_DAYS\"\n\ntype CalendarType = {\n    currentDay: number\n    currentMonth: number\n    currentYear: number\n    selectedDays: Array<string>\n}\n\nexport const initialState: CalendarType = {\n    currentDay: dayjs().day(),\n    currentMonth: dayjs().month(),\n    currentYear: dayjs().year(),\n    selectedDays: []\n}\n\ntype onSwitchMonthACType = ReturnType<typeof onSwitchMonthAC>\ntype setSelectDaysACType = ReturnType<typeof setSelectDaysAC>\nexport type ActionType = onSwitchMonthACType | setSelectDaysACType\n\nexport const calendarReducer = (state = initialState, action: ActionType): CalendarType => {\n    switch (action.type) {\n\n        case SWITCH_MONTH: {\n            const currentDate = dayjs().month(state.currentMonth).year(state.currentYear)\n            const switchedMonth =\n                action.direction === \"back\"\n                    ? currentDate.subtract(1, \"month\")\n                    : currentDate.add(1, \"month\")\n\n            return {\n                ...state,\n                currentMonth: switchedMonth.month(),\n                currentYear: switchedMonth.year()\n            }\n        }\n\n        case SET_SELECT_DAYS:\n            return {\n                ...state,\n                selectedDays: [...action.selectedDays]\n            }\n\n        default:\n            return state\n    }\n}\n\n\n\nexport const onSwitchMonthAC = (direction: string) => ({type: SWITCH_MONTH, direction} as const)\nexport const setSelectDaysAC = (selectedDays: Array<string>) => ({type: SET_SELECT_DAYS, selectedDays} as const)\n/*\nexport const removeDateAC = (date: string) => {\n    console.log(\"remove\", date)\n    return {type: REMOVE_DATE, date} as const\n}*/\n\n\n/*case REMOVE_DATE:\n    return {\n        ...state,\n        selectedDays: state.selectedDays.filter(f => f !== action.date)\n    }*/\n","import s from \"./Day.module.css\"\nimport React, {ReactElement} from \"react\"\nimport {DayType} from \"../Month/Month\"\n\n\ntype DayComponentType = {\n    ceil: DayType\n    setSelectDate: (selectDate: { action: \"\" | \"add\" | \"delete\", date: string }) => void\n    selectedDays: Array<string>\n}\n\nexport const Days = ({ceil, setSelectDate, selectedDays}: DayComponentType): ReactElement => {\n\n    /*const a = (e: any) => {\n        if (e.nativeEvent.shiftKey) {\n            console.log(\"Shift\")\n        }\n    }*/\n\n    const currentDayString: string = ceil.date && ceil.date.format(\"YYYY-MM-DD\")\n\n    const onSelectDay = (date: string) => {\n        const exSelectedDay: boolean = selectedDays.some(selected => selected === date)\n        if (exSelectedDay) {\n            setSelectDate({action: \"delete\", date: date})\n        } else {\n            setSelectDate({action: \"add\", date: date})\n        }\n    }\n\n    return (\n        <td onClick={() => !ceil.isActive && onSelectDay(currentDayString)}\n            className={`${s.table_ceil} ${ceil.isActive && s.active} ${!ceil.isCurrentMonth && s.table_ceil_month} ${ceil.isCurrentDay && s.table_ceil_current_day} ${ceil.isSelected && s.selectedDay}`}>\n            {ceil.date.date()}\n        </td>\n    )\n}","import s from \"./TitleColumn.module.css\"\nimport React, {ReactElement} from \"react\"\n\nexport const TitleColumn = (): ReactElement => {\n    const weeks = [\"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\", \"вс\"]\n    return (\n        <thead>\n            <tr className={s.title_column}>\n                {\n                    weeks.map((w, i) => <td key={i}>{w.toUpperCase()}</td>)\n                }\n            </tr>\n        </thead>\n    )\n}","import s from \"./Caption.module.css\"\nimport React, {ReactElement} from \"react\"\n\ntype CaptionType = {\n    month: string\n    year: number\n    onSwitchMonth: (direction: string) => void\n}\n\nexport const Caption = ({month, year, onSwitchMonth}: CaptionType): ReactElement => {\n    return (\n        <caption className={s.caption_table}>\n            <span className={`${s.arrow_left} ${s.arrow}`} onClick={() => onSwitchMonth(\"back\")}> </span>\n            <div className={s.caption_table_month}>{month + \" \" + year}</div>\n            <span className={`${s.arrow_right} ${s.arrow}`} onClick={() => onSwitchMonth(\"next\")}> </span>\n        </caption>\n    )\n}","import React, {Dispatch, ReactElement, useEffect, useState} from \"react\"\nimport s from \"./Month.module.css\"\nimport {ActionType, onSwitchMonthAC, setSelectDaysAC} from \"../../bll/calendarReducers\"\nimport {uppercaseFirstLetter} from \"../../common/utils/uppercaseFirstLetter\"\nimport dayjs, {Dayjs} from \"dayjs\"\nimport isToday from \"dayjs/plugin/isToday\"\nimport arraySupport from \"dayjs/plugin/arraySupport\"\nimport updateLocale from \"dayjs/plugin/updateLocale\"\nimport localeData from \"dayjs/plugin/localeData\"\nimport weekday from \"dayjs/plugin/weekday\"\nimport \"dayjs/locale/ru\"\nimport {Days} from \"../Day/Days\"\nimport {TitleColumn} from \"../TitleColumn/TitleColumn\"\nimport {Caption} from \"../Caption/Caption\"\nimport {getDate} from \"../../common/utils/getDate\"\n\n\ndayjs.locale(\"ru\")\n\ndayjs.extend(isToday)\ndayjs.extend(arraySupport)\ndayjs.extend(updateLocale)\ndayjs.extend(localeData)\ndayjs.extend(weekday)\n\nconst ROWS_TABLE = 6\nconst COLS_TABLE = 7\n\ntype MonthType = {\n    month: number\n    year: number\n    dispatch: Dispatch<ActionType>\n    selectedDays: Array<string>\n}\n\nexport type DayType = {\n    date: Dayjs\n    month: number\n    isCurrentDay: boolean\n    isCurrentMonth: boolean\n    isNextMonth: boolean\n    isSelected: boolean\n    isActive: boolean\n}\n\n\nexport const Month = ({year, month, selectedDays, dispatch}: MonthType): ReactElement => {\n    const date: Dayjs = dayjs()\n\n    const [selectDate, setSelectDate] = useState<{ action: \"\" | \"add\" | \"delete\", date: string }>({\n        action: \"\",\n        date: \"\"\n    })\n\n    useEffect(() => {\n        if (selectDate.action === \"add\") {\n            localStorage.setItem(selectDate.date, selectDate.date)\n\n        }\n        if (selectDate.action === \"delete\") {\n            localStorage.removeItem(selectDate.date)\n        }\n        setSelectDate({\n            action: \"\",\n            date: \"\"\n        })\n        const data: Array<string> = getDate()\n        data && dispatch(setSelectDaysAC(data))\n    }, [selectDate.date, selectDate.action])\n\n    const table: Array<Array<DayType>> = []\n    let rows: Array<DayType> = []\n\n    let startCalendarDay: Dayjs = date\n        .month(month)\n        .year(year)\n        .startOf(\"month\")\n        .weekday(0)\n\n\n    for (let i = 0; i < ROWS_TABLE; i++) {\n        rows = []\n        for (let j = 0; j < COLS_TABLE; j++) {\n            rows.push({\n                date: startCalendarDay,\n                month: startCalendarDay.month(),\n                isCurrentDay: startCalendarDay.isSame(date, \"day\"),\n                isCurrentMonth: month === startCalendarDay.month(),\n                isNextMonth: month < startCalendarDay.month(),\n                isSelected: selectedDays.some(s => s === startCalendarDay.format(\"YYYY-MM-DD\")),\n                isActive: startCalendarDay.isBefore(date, \"day\")\n            })\n            startCalendarDay = startCalendarDay.add(1, \"day\")\n        }\n        table.push(rows)\n    }\n\n    const monthName: string = uppercaseFirstLetter(date.month(month).format(\"MMMM\"))\n\n    const onSwitchMonth = (direction: string) => {\n        dispatch(onSwitchMonthAC(direction))\n    }\n\n    return (\n        <table className={s.table}>\n            <Caption year={year} month={monthName} onSwitchMonth={onSwitchMonth}/>\n            <TitleColumn/>\n            <tbody className={s.table_rows_container}>\n                {\n                    table.map((t: Array<DayType>, i: number) =>\n                        <tr key={i} className={s.table_rows}>\n                            {\n                                t.map((ceil: DayType) =>\n                                    <Days selectedDays={selectedDays} key={ceil.date.format(\"YYYY-MM-DD\")} setSelectDate={setSelectDate} ceil={ceil}/>)\n                            }\n                        </tr>)\n                }\n            </tbody>\n        </table>\n    )\n}","export const getDate = (): Array<string> => Object.keys(localStorage)\n","export const uppercaseFirstLetter = (str: string): string => {\n    if (!str) return str\n    return str[0].toUpperCase() + str.slice(1)\n}\n","import React, {ReactElement} from \"react\"\nimport s from \"./App.module.css\"\nimport {Month} from \"./Month/Month\"\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {AppStateType} from \"../bll/redux-store\"\n\n\nconst App = (): ReactElement => {\n\n    const month = useSelector<AppStateType, number>(state => state.calendar.currentMonth)\n    const year = useSelector<AppStateType, number>(state => state.calendar.currentYear)\n    const selectedDays = useSelector<AppStateType, Array<string>>(state => state.calendar.selectedDays)\n    const dispatch = useDispatch()\n\n    return (\n        <div className={s.app}>\n            <h1>Календарь</h1>\n            <Month selectedDays={selectedDays} year={year} month={month} dispatch={dispatch}/>\n        </div>\n    )\n}\n\nexport default App\n","import {combineReducers, createStore, Store} from \"redux\"\nimport {calendarReducer} from \"./calendarReducers\"\n\nconst reducer = combineReducers({\n    calendar: calendarReducer\n})\n\nexport type AppStateType = ReturnType<typeof reducer>\nexport type StoreType = Store<AppStateType>\n\nexport const store: StoreType = createStore(reducer)","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./ui/App\"\nimport {Provider} from \"react-redux\"\nimport {store} from \"./bll/redux-store\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caption_table\":\"Caption_caption_table__269PX\",\"caption_table_month\":\"Caption_caption_table_month__1d8S0\",\"arrow\":\"Caption_arrow__1kjNX\",\"arrow_left\":\"Caption_arrow_left__B-5yP\",\"arrow_right\":\"Caption_arrow_right__aougB\",\"arrow_border\":\"Caption_arrow_border__1tttT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table_ceil\":\"Day_table_ceil__CbRE-\",\"table_ceil_month\":\"Day_table_ceil_month__1YPRM\",\"table_ceil_current_day\":\"Day_table_ceil_current_day__1Nbaw\",\"selectedDay\":\"Day_selectedDay__13hGh\",\"active\":\"Day_active__3mBf1\"};"],"sourceRoot":""}